<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Telegram WebApp</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script> <!-- Подключаем SDK -->
  <script src="https://cdn.tailwindcss.com"></script> <!-- Стилевой фреймворк для оформления -->
</head>
<body class="bg-neutral-900 text-white h-screen flex items-center justify-center text-center p-4">

  <!-- Контент страницы -->
  <div>
    <h1 class="text-4xl mb-4">Привет из Telegram WebApp!</h1>
    <p id="user-info" class="text-lg opacity-80">Загрузка...</p> <!-- Выводим информацию о пользователе -->
    <button id="close-btn" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">
      Закрыть WebApp
    </button>
  </div>

  <script>
    // Инициализация Telegram WebApp
    const tg = window.Telegram.WebApp;

    // Разворачиваем WebApp на весь экран
    tg.expand();

    // Получаем данные о пользователе
    const user = tg.initDataUnsafe?.user;

    // Проверка и вывод имени пользователя
    const userName = user?.first_name || "Гость"; // Если имя есть - показываем его, иначе показываем "Гость"
    document.getElementById("user-info").innerText = `Добро пожаловать, ${userName}!`;

    // Обработчик закрытия WebApp
    document.getElementById("close-btn").onclick = function () {
      tg.close(); // Закрываем WebApp
    };
  </script>

</body>
</html>
